# üöÄ Installation & Setup Guide

## Prerequisites

### System Requirements
- **Python**: 3.12+ (tested on 3.12)
- **Operating System**: macOS, Linux, Windows
- **Memory**: 4GB+ RAM recommended
- **Disk Space**: 2-10GB free space (depends on book collection)

### Required Accounts (for AI Summarization)
- **OpenAI Account**: [platform.openai.com](https://platform.openai.com) (for ChatGPT)
- **Anthropic Account**: [console.anthropic.com](https://console.anthropic.com) (for Claude)

---

## üì¶ Installation Steps

### 1. Clone the Repository
```bash
git clone <repository-url>
cd BookProcessor
```

### 2. Set Up Virtual Environment (Recommended)
```bash
# Create virtual environment
python -m venv .venv

# Activate virtual environment
# On macOS/Linux:
source .venv/bin/activate

# On Windows:
.venv\Scripts\activate

# Verify activation (should see (.venv) in prompt)
which python  # Should show path to .venv/bin/python
```

### 3. Install Dependencies
```bash
# Install all required packages
pip install -r requirements.txt

# Install Playwright browser (for EPUB‚ÜíPDF conversion)
playwright install chromium
```

### 4. Verify Installation
```bash
# Test core dependencies
python -c "import PyPDF2; print('‚úÖ PyPDF2 working')"
python -c "import pdfplumber; print('‚úÖ pdfplumber working')" 
python -c "import ebooklib; print('‚úÖ ebooklib working')"
python -c "from dotenv import load_dotenv; print('‚úÖ python-dotenv working')"
python -c "import openai; print('‚úÖ openai working')"
python -c "import anthropic; print('‚úÖ anthropic working')"
```

---

## üîí API Key Configuration

### 1. Create .env File
```bash
# Copy template
cp .env.example .env
```

### 2. Add Your API Keys
Edit `.env` file with your actual API keys:
```env
# .env file
OPENAI_API_KEY=sk-your_actual_openai_key_here
ANTHROPIC_API_KEY=sk-ant-your_actual_anthropic_key_here
```

### 3. Get API Keys

#### OpenAI API Key:
1. Visit [platform.openai.com/api-keys](https://platform.openai.com/api-keys)
2. Sign in to your OpenAI account
3. Click "Create new secret key"
4. Copy the key (starts with `sk-`)
5. Add to `.env` file: `OPENAI_API_KEY=sk-your_key_here`

#### Anthropic API Key:
1. Visit [console.anthropic.com](https://console.anthropic.com)
2. Sign in to your Anthropic account
3. Navigate to API Keys section
4. Create new key
5. Copy the key (starts with `sk-ant-`)
6. Add to `.env` file: `ANTHROPIC_API_KEY=sk-ant-your_key_here`

### 4. Verify API Configuration
```bash
# Test OpenAI connection
python -c "
import os
from dotenv import load_dotenv
load_dotenv()
print('OpenAI Key:', 'Found' if os.getenv('OPENAI_API_KEY') else 'Missing')
print('Claude Key:', 'Found' if os.getenv('ANTHROPIC_API_KEY') else 'Missing')
"
```

---

## üìÅ Directory Structure Setup

### 1. Create Required Directories
```bash
# Create source directories
mkdir -p books
mkdir -p book_chapters
mkdir -p test_chapters_clean_section

# Verify structure
ls -la
# Should see: books/, book_chapters/, AI_summarizer/, book_processing/
```

### 2. Add Sample Books
```bash
# Place your PDF/EPUB files in the books/ directory
cp /path/to/your/book.pdf books/
cp /path/to/your/book.epub books/

# Verify
ls books/
# Should show your book files
```

---

## üß™ Quick Test Run

### 1. Test Book Processing
```bash
# Test with a PDF book
python book_processor.py "books/your-book.pdf" --output "test_chapters_clean_section" --verbose

# Test with an EPUB book  
python book_processor.py "books/your-book.epub" --output "test_chapters_clean_section" --verbose
```

### 2. Test AI Summarization
```bash
# Activate virtual environment first
source .venv/bin/activate

# Test ChatGPT summarizer
cd AI_summarizer
python chatgpt_summarizer.py "../test_chapters_clean_section/book-name_chapters/Chapters/Chapter_01-Title.pdf"

# Test Claude summarizer
python claude_summarizer.py "../test_chapters_clean_section/book-name_chapters/Chapters/Chapter_01-Title.pdf"
```

### 3. Expected Results
After successful processing, you should see:
```
test_chapters_clean_section/
‚îî‚îÄ‚îÄ book-name_chapters/
    ‚îú‚îÄ‚îÄ Chapters/ (or section folders for PDFs)
    ‚îÇ   ‚îú‚îÄ‚îÄ Chapter_01-Title.pdf
    ‚îÇ   ‚îú‚îÄ‚îÄ Chapter_01-Title_chatgpt_summary.md
    ‚îÇ   ‚îú‚îÄ‚îÄ Chapter_01-Title_claude_summary.md
    ‚îÇ   ‚îî‚îÄ‚îÄ [additional chapters...]
    ‚îî‚îÄ‚îÄ book-name_processing_report.json
```

---

## üîß Troubleshooting Common Issues

### Virtual Environment Issues
```bash
# Problem: Command not found
# Solution: Make sure virtual environment is activated
source .venv/bin/activate

# Problem: Wrong Python version
# Solution: Recreate virtual environment with specific Python
python3.12 -m venv .venv
```

### Dependency Issues
```bash
# Problem: ModuleNotFoundError
# Solution: Reinstall dependencies in virtual environment
pip install --upgrade pip
pip install -r requirements.txt

# Problem: Playwright browser not found
# Solution: Install Chromium browser
playwright install chromium
```

### API Key Issues
```bash
# Problem: API key not found
# Solution: Verify .env file exists and has correct format
cat .env
# Should show: OPENAI_API_KEY=sk-...

# Problem: Invalid API key format
# Solution: Verify key formats
# OpenAI keys start with: sk-
# Anthropic keys start with: sk-ant-
```

### File Processing Issues
```bash
# Problem: "File not found"
# Solution: Use absolute paths or verify file location
ls -la books/
python book_processor.py "$(pwd)/books/your-book.pdf" --verbose

# Problem: "No chapters found"
# Solution: Verify PDF has proper TOC or try different book
```

### Permission Issues
```bash
# Problem: Permission denied
# Solution: Check file permissions
chmod 644 books/*.pdf
chmod 755 .

# Problem: Cannot create directories
# Solution: Check write permissions
mkdir -p test_output
```

---

## üê≥ Docker Setup (Optional)

### 1. Create Dockerfile
```dockerfile
FROM python:3.12-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
RUN playwright install chromium

COPY . .
CMD ["python", "book_processor.py", "--help"]
```

### 2. Build and Run
```bash
# Build image
docker build -t book-summarizer .

# Run with mounted volumes
docker run -v $(pwd)/books:/app/books -v $(pwd)/output:/app/output book-summarizer
```

---

## üìà Performance Optimization

### 1. System Optimization
```bash
# Increase memory if processing large files
export PYTHONHASHSEED=0
ulimit -v 4194304  # 4GB memory limit
```

### 2. Parallel Processing
```bash
# Process multiple books in parallel (use with caution)
python book_processor.py books/*.pdf --batch --parallel
```

### 3. Disk Space Management
```bash
# Clean up temporary files
find . -name "*.tmp" -delete
find . -name "*_images" -type d -exec rm -rf {} +

# Monitor disk usage
du -sh book_chapters/
```

---

## üîÑ Regular Maintenance

### 1. Update Dependencies
```bash
# Update all packages
pip install --upgrade -r requirements.txt

# Update Playwright
playwright install chromium
```

### 2. Clean Up Old Outputs
```bash
# Remove old processing results
rm -rf book_chapters/old-book_chapters/
rm -rf test_chapters_clean_section/old-tests/
```

### 3. Backup Configuration
```bash
# Backup your .env file (securely!)
cp .env .env.backup

# Version control (excluding .env)
git add .
git commit -m "Update configuration"
```

---

## ‚úÖ Installation Complete!

Your Book Summarizer system is now ready for use. You can:

1. **Process Books**: Convert PDFs/EPUBs to individual chapters
2. **Generate Summaries**: Create AI-powered study guides
3. **Organize Content**: Maintain structured chapter libraries
4. **Scale Up**: Process multiple books efficiently

### Next Steps:
1. Review the [Usage Examples](#usage-examples) section
2. Check out the [Architecture Guide](#architecture) 
3. Start processing your first book!

For additional help, see the [Troubleshooting Guide](#troubleshooting) or check the project documentation.